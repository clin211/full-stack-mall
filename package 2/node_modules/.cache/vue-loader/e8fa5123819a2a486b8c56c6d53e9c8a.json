{"remainingRequest":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tim/Desktop/电商程序/package 2/src/views/userMember/roleManagement/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tim/Desktop/电商程序/package 2/src/views/userMember/roleManagement/index.vue","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRSb2xlTGlzdCwNCiAgYWRkUm9sZSwNCiAgZGVsZXRlUm9sZSwNCiAgZWRpdFJvbGUsDQogIGVkaXRSb2xlUGVybWlzc2lvbiwNCiAgZ2V0UGVybWlzc2lvbkxpc3QsDQogIGRlbGV0ZVJvbGVQZXJtaXNzaW9uLA0KfSBmcm9tICJAL2FwaS9hcGkuanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJyb2xlTGlzdCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHJvbGVMaXN0OiBbXSwgLy8g6KeS6Imy5YiX6KGoDQogICAgICBjdXJyZW50UGFnZTogMSwgLy/lvZPliY3pobUNCiAgICAgIGxpbWl0OiAxMCwgLy/mr4/pobXmnaHmlbANCiAgICAgIHBhZ2U6IDEsIC8v6aG15pWwDQogICAgICB0b3RhbDogbnVsbCwgLy/mgLvmnaHmlbANCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwgLy8g5o6n5Yi25paw5aKe6KeS6Imy5by55Ye65qGGDQogICAgICBpc0VkaXQ6IGZhbHNlLCAvLyDmmK/lkKbmmK/nvJbovpENCiAgICAgIGVkaXRJZDogIiIsIC8vIOW9k+WJjee8lui+keinkuiJsmlkDQogICAgICBkaWFsb2dSb2xlUGVybWlzc2lvbjogZmFsc2UsIC8vIOWIhumFjeadg+mZkOeVjOmdog0KICAgICAgc2VhcmNoOiB7DQogICAgICAgIGtleXdvcmQ6ICIiLA0KICAgICAgICB0aW1lcjogbnVsbCwgLy8g6IqC5rWBDQogICAgICB9LA0KICAgICAgLyoqDQogICAgICAgKiDooajljZXpqozor4ENCiAgICAgICAqLw0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgbmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXop5LoibLlkI3np7AiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIGRlc2M6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6KeS6Imy5o+P6L+wIiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgfSwNCiAgICAgIC8qKg0KICAgICAgICog5paw5aKe6KeS6ImyZm9ybQ0KICAgICAgICovDQogICAgICBmb3JtOiB7DQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBkZXNjOiAiIiwNCiAgICAgIH0sDQogICAgICBhc3NpZ246IHsNCiAgICAgICAgdmFsdWU6IFtdLA0KICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgb3B0aW9uczogW10sDQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICB0aW1lcjogbnVsbCwNCiAgICAgIH0sDQogICAgICByZXNLZXlzOiBbXSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDoge30sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgZGlhbG9nRm9ybVZpc2libGUobmV3VmFsKSB7DQogICAgICBpZiAoIW5ld1ZhbCkgew0KICAgICAgICAvLyDmuIXnqbrooajljZXmlbDmja7vvIzmgaLlpI3liJ3lp4vmlbDmja4NCiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLiRkYXRhLmZvcm0sIHRoaXMuJG9wdGlvbnMuZGF0YSgpLmZvcm0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZGlhbG9nUm9sZVBlcm1pc3Npb24obmV3VmFsKSB7DQogICAgICBpZiAoIW5ld1ZhbCkgew0KICAgICAgICAvLyDmuIXnqbrooajljZXmlbDmja7vvIzmgaLlpI3liJ3lp4vmlbDmja4NCiAgICAgICAgdGhpcy5hc3NpZ24udmFsdWUgPSBbXTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0TGlzdCgpIHsNCiAgICAgIHRoaXMucm9sZUxpc3QgPSBbXTsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiDnqbrlgLzmmL7npLrmiYDmnIkNCiAgICAgICAgICovDQogICAgICAgIGtleXdvcmQ6IHRoaXMuc2VhcmNoLmtleXdvcmQsDQogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LA0KICAgICAgICBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlLA0KICAgICAgfTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFJvbGVMaXN0KHBhcmFtcyk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgY29uc29sZS50YWJsZShyZXMuZGF0YS5saXN0KTsNCiAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgew0KICAgICAgICBpZiAocmVzLmRhdGEubGlzdC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5yb2xlTGlzdCA9IHJlcy5kYXRhLmxpc3Q7DQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvL+WIhumhtQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICAgIHRoaXMubGltaXQgPSB2YWw7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICB9LA0KICAgIC8vIOmHjee9ruaQnOe0ouagjw0KICAgIGRvUmVzZXQoKSB7DQogICAgICB0aGlzLnNlYXJjaC5rZXl3b3JkID0gIiI7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgIHRoaXMubGltaXQgPSAxMDsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLy8g5pCc57Si5oyJ6ZKuDQogICAgZG9TZWFyY2goKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2gua2V5d29yZC5sZW5ndGggPiAwKSB7DQogICAgICAgIC8vIOiKgua1gQ0KICAgICAgICBpZiAoIXRoaXMuc2VhcmNoLnRpbWVyKSB7DQogICAgICAgICAgdGhpcy5zZWFyY2gudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaC50aW1lcik7DQogICAgICAgICAgICB0aGlzLnNlYXJjaC50aW1lciA9IG51bGw7DQogICAgICAgICAgfSwgMjAwMCk7DQogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmkJzntKLlhbPplK7lrZciLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmlrDlop7mjInpkq7kuovku7bvvIzmlrDlop7op5LoibLkuovku7YNCiAgICAgKi8NCiAgICBhc3luYyBhZGRSb2xlSGFuZGxlcigpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5paw5aKe6KeS6Imy6KGo5Y2VIC0g5Y+W5raI5LqL5Lu2DQogICAgICovDQogICAgYWRkUm9sZUZvcm1DYW5jZWwoKSB7DQogICAgICAvLyDlhbPpl63ooajljZUNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaWsOWinuinkuiJsuihqOWNlSAtIOehruWumuS6i+S7tg0KICAgICAqLw0KICAgIGFzeW5jIGFkZFJvbGVGb3JtT2soKSB7DQogICAgICBjb25zdCB7IG5hbWUsIGRlc2MgfSA9IHRoaXMuZm9ybTsNCiAgICAgIGlmIChuYW1lLmxlbmd0aCA8IDEgJiYgZGVzYy5sZW5ndGggPCAxKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICLlhoXlrrnkuI3og73kuLrnqboiLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIC8vIOaYr+e8lui+kei/m+adpeeahA0KICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7DQogICAgICAgIC8vIOafpeeci+aUueeahOWQjeWtl+aYr+WQpuaciemHjeWkjQ0KICAgICAgICBpZiAoDQogICAgICAgICAgdGhpcy5yb2xlTGlzdA0KICAgICAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gdGhpcy5lZGl0SWQpDQogICAgICAgICAgICAuc29tZSgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSBuYW1lKQ0KICAgICAgICApIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7LmnInnm7jlkIzop5LoibLlkI3np7AiLA0KICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBlZGl0Um9sZSh7IC4uLnRoaXMuZm9ybSwgaWQ6IHRoaXMuZWRpdElkIH0pOw0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnmiJDlip8iLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyDpqozor4HmmK/lkKbmnInnm7jlkIzop5LoibLlkI0NCiAgICAgICAgaWYgKHRoaXMucm9sZUxpc3Quc29tZSgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSBuYW1lKSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogIuW3suacieebuOWQjOinkuiJsuWQjeensCIsDQogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgICAgfSk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFkZFJvbGUodGhpcy5mb3JtKTsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAxKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAi5re75Yqg6KeS6Imy5oiQ5YqfIiwNCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8g5YWz6Zet6KGo5Y2VDQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAvLyDmm7TmlrDpobXpnaINCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog57yW6L6R6KeS6Imy5LqL5Lu2DQogICAgICovDQogICAgZWRpdFJvbGVIYW5kbGVyKHJvbGUpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvbGUpOw0KICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOw0KICAgICAgdGhpcy5lZGl0SWQgPSByb2xlLmlkOw0KICAgICAgdGhpcy5mb3JtLm5hbWUgPSByb2xlLm5hbWU7DQogICAgICB0aGlzLmZvcm0uZGVzYyA9IHJvbGUuZGVzYzsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5Yig6Zmk6KeS6Imy5LqL5Lu2DQogICAgICovDQogICAgZGVsZXRlUm9sZUhhbmRsZXIoaWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKGlkKTsNCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeinkuiJsiwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKGFzeW5jICgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVSb2xlKGlkKTsNCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgICAvLyDmm7TmlrDpobXpnaINCiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojliKDpmaQiLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIhumFjeadg+mZkOaMiemSrg0KICAgICAqLw0KICAgIGFzeW5jIGFzc2lnblBlcm1pc3Npb25zKHJvdykgew0KICAgICAgY29uc29sZS5sb2cocm93KTsNCiAgICAgIHRoaXMuZGlhbG9nUm9sZVBlcm1pc3Npb24gPSB0cnVlOw0KICAgICAgdGhpcy5hc3NpZ24uaWQgPSByb3cuaWQ7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRQZXJtaXNzaW9uTGlzdCh7DQogICAgICAgIGxpbWl0OiAxMDAsDQogICAgICAgIHBhZ2U6IDEsDQogICAgICAgIGtleXdvcmQ6ICIiLA0KICAgICAgfSk7DQogICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsNCiAgICAgICAgdGhpcy5hc3NpZ24ub3B0aW9ucyA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICA/Lm1hcD8uKChpdGVtLCBpLCBhcnIpID0+IHsNCiAgICAgICAgICAgIGlmIChpdGVtLnBhdGguc3BsaXQoIi8iKS5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbS5wYXRoKTsNCiAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwNCiAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLA0KICAgICAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCwNCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogYXJyDQogICAgICAgICAgICAgICAgICAubWFwKChpdCkgPT4NCiAgICAgICAgICAgICAgICAgICAgaXQucGF0aC5zcGxpdCgiLyIpLmxlbmd0aCA+IDIgJiYgaXQucGF0aC5pbmNsdWRlcyhpdGVtLnBhdGgpDQogICAgICAgICAgICAgICAgICAgICAgPyB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdC5pZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGl0LnBhdGgsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaXQpID0+IGl0KQ0KICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5maWx0ZXIoKGl0KSA9PiBpdCkNCiAgICAgICAgICAucmV2ZXJzZSgpOw0KICAgICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tLS0tIik7DQogICAgICAgIGNvbnNvbGUudGFibGUodGhpcy5hc3NpZ24ub3B0aW9ucyk7DQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy5yZXNLZXlzID0gcmVzLmRhdGEubGlzdC5tYXAoKGl0ZW0pID0+IGl0ZW0uaWQpOw0KICAgICAgY29uc29sZS5sb2cocm93LnBlcm1pc3Npb25zKTsNCiAgICAgIGNvbnN0IGtleXMgPSByb3cucGVybWlzc2lvbnMNCiAgICAgICAgPy5tYXA/LigoaXRlbSkgPT4NCiAgICAgICAgICBpdGVtLnBhdGguc3BsaXQoIi8iKS5sZW5ndGggPT09IDIgJiYNCiAgICAgICAgICByb3cucGVybWlzc2lvbnMuc29tZShpdD0+aXQucGF0aC5pbmNsdWRlcyhpdGVtLnBhdGguY29uY2F0KCIvIikpKQ0KICAgICAgICAgICAgPyBmYWxzZQ0KICAgICAgICAgICAgOiBpdGVtLmlkDQogICAgICAgICkNCiAgICAgICAgLmZpbHRlcigoaXQpID0+IGl0KTsNCiAgICAgIGNvbnNvbGUubG9nKGtleXMpOw0KICAgICAgY29uc29sZS5sb2coKQ0KICAgICAgdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKGtleXMgfHwgW10sIHRydWUpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5YWz6Zet5YiG6YWN5p2D6ZmQ5a+56K+d5qGGDQogICAgICovDQogICAgYXNzaWduUGVybWlzc2lvbnNDYW5jZWwoKSB7DQogICAgICB0aGlzLmRpYWxvZ1JvbGVQZXJtaXNzaW9uID0gZmFsc2U7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliIbphY3mnYPpmZDlr7nor53moYbnoa7orqQNCiAgICAgKi8NCiAgICBhc3luYyBhc3NpZ25QZXJtaXNzaW9uc0NvbmZpcm0oKSB7DQogICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLiRyZWZzLnRyZWUNCiAgICAgICAgLmdldENoZWNrZWROb2RlcyhmYWxzZSwgdHJ1ZSkNCiAgICAgICAgLm1hcCgoaXQpID0+IGl0LmlkKTsNCiAgICAgIGNvbnNvbGUubG9nKHNlbGVjdCk7DQogICAgICBjb25zdCBkZWxldGVSZXMgPSBhd2FpdCBkZWxldGVSb2xlUGVybWlzc2lvbih7DQogICAgICAgIHJvbGVfaWQ6IHRoaXMuYXNzaWduLmlkLA0KICAgICAgICBwZXJtaXNzaW9uX2lkczogdGhpcy5yZXNLZXlzLA0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZyhkZWxldGVSZXMpOw0KICAgICAgY29uc3QgYWRkUmVzID0gYXdhaXQgZWRpdFJvbGVQZXJtaXNzaW9uKHsNCiAgICAgICAgcm9sZV9pZDogdGhpcy5hc3NpZ24uaWQsDQogICAgICAgIHBlcm1pc3Npb25faWRzOiBzZWxlY3QsDQogICAgICB9KTsNCiAgICAgIGNvbnNvbGUubG9nKHsNCiAgICAgICAgcm9sZV9pZDogdGhpcy5hc3NpZ24uaWQsDQogICAgICAgIHBlcm1pc3Npb25faWRzOiBzZWxlY3QsDQogICAgICB9KTsNCiAgICAgIGNvbnNvbGUubG9nKGFkZFJlcyk7DQogICAgICB0aGlzLmRpYWxvZ1JvbGVQZXJtaXNzaW9uID0gZmFsc2U7DQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgbWVzc2FnZTogIuWIhumFjeaIkOWKnyIsDQogICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgIH0pOw0KICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmkJzntKLmoYYNCiAgICAgKi8NCiAgICBhc3luYyBzZWFyY2hQZXJtaXNzaW9uKGtleXdvcmQpIHsNCiAgICAgIGNvbnNvbGUubG9nKGtleXdvcmQpOw0KICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYXNzaWduLnRpbWVyKTsNCiAgICAgIC8vIOi+k+WFpeWBnOatouinpuWPkSA1MDBtcw0KICAgICAgdGhpcy5hc3NpZ24udGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsNCiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYXNzaWduLnRpbWVyKTsNCiAgICAgICAgaWYgKGtleXdvcmQudHJpbSgpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmFzc2lnbi5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRQZXJtaXNzaW9uTGlzdCh7IGxpbWl0OiAxMCwgcGFnZTogMSwga2V5d29yZCB9KTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgew0KICAgICAgICAgICAgdGhpcy5hc3NpZ24ub3B0aW9ucyA9IHJlcy5kYXRhLmxpc3Q/Lm1hcCgoaXRlbSkgPT4gKHsNCiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsDQogICAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsDQogICAgICAgICAgICB9KSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuYXNzaWduLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmFzc2lnbi5vcHRpb25zID0gW107DQogICAgICAgIH0NCiAgICAgIH0sIDUwMCk7DQogICAgICAwLjA7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/userMember/roleManagement","sourcesContent":["<template>\r\n  <div class=\"order-main\">\r\n    <el-form label-width=\"80px\" :inline=\"false\" class=\"search\" size=\"normal\">\r\n      <el-row :gutter=\"10\">\r\n        <el-col class=\"searchItem\" :span=\"6\" :offset=\"0\">\r\n          <el-form-item label=\"角色名称\" size=\"mini\">\r\n            <el-input\r\n              v-model=\"search.keyword\"\r\n              class=\"search-input\"\r\n              size=\"mini\"\r\n              placeholder=\"请输入角色关键字\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col class=\"searchItem\" :span=\"6\" :offset=\"0\"> </el-col>\r\n        <el-col style=\"float: right\" :span=\"4\" :offset=\"0\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"doSearch()\"\r\n            >搜索</el-button\r\n          >\r\n          <el-button type=\"default\" size=\"mini\" @click=\"doReset()\"\r\n            >重置\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div class=\"btn-box\">\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"addRoleHandler()\"\r\n        >新增</el-button\r\n      >\r\n      <!-- 嵌套表单 -->\r\n      <el-dialog\r\n        :title=\"isEdit ? '编辑角色' : '新增角色'\"\r\n        :visible.sync=\"dialogFormVisible\"\r\n      >\r\n        <el-form :model=\"form\" :rules=\"rules\">\r\n          <el-form-item label=\"角色名称\" prop=\"name\">\r\n            <el-input v-model.trim=\"form.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述\" prop=\"desc\">\r\n            <el-input v-model.trim=\"form.desc\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addRoleFormCancel()\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addRoleFormOk()\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      <!-- 分配权限 -->\r\n      <el-dialog\r\n        title=\"分配权限\"\r\n        :visible.sync=\"dialogRolePermission\"\r\n        class=\"dialog-role\"\r\n        center\r\n      >\r\n        <el-tree\r\n          :data=\"assign.options\"\r\n          show-checkbox\r\n          node-key=\"id\"\r\n          ref=\"tree\"\r\n          highlight-current\r\n        >\r\n        </el-tree>\r\n        <div class=\"role-footer\">\r\n          <el-button @click=\"assignPermissionsCancel()\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"assignPermissionsConfirm()\"\r\n            >确 定</el-button\r\n          >\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n    <!-- 订单列表 -->\r\n    <el-card class=\"card\" shadow=\"never\">\r\n      <el-table :data=\"roleList\" border style=\"width: 100%\">\r\n        <el-table-column align=\"center\" type=\"index\" label=\"#\" fixed=\"left\" />\r\n        <el-table-column align=\"center\" label=\"id\" prop=\"id\" width=\"100\" />\r\n        <el-table-column align=\"center\" label=\"名称\" prop=\"name\" />\r\n        <el-table-column align=\"center\" label=\"描述\" prop=\"desc\" />\r\n        <el-table-column\r\n          align=\"center\"\r\n          label=\"创建时间\"\r\n          prop=\"created_at\"\r\n          width=\"200\"\r\n        />\r\n        <el-table-column\r\n          align=\"center\"\r\n          label=\"更新时间\"\r\n          prop=\"updated_at\"\r\n          width=\"200\"\r\n        />\r\n        <el-table-column align=\"center\" label=\"操作\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 编辑角色按钮 -->\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"editRoleHandler(scope.row)\"\r\n              circle\r\n            />\r\n            <!-- 分配权限按钮 -->\r\n            <el-button\r\n              type=\"warning\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-key\"\r\n              @click=\"assignPermissions(scope.row)\"\r\n              circle\r\n            />\r\n            <!-- 删除角色按钮 -->\r\n            <el-button\r\n              type=\"danger\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"deleteRoleHandler(scope.row.id)\"\r\n              circle\r\n            />\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 所有列表都要有分页 除非有特殊要求 否则数据多的情况下就没办法看了 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"limit\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getRoleList,\r\n  addRole,\r\n  deleteRole,\r\n  editRole,\r\n  editRolePermission,\r\n  getPermissionList,\r\n  deleteRolePermission,\r\n} from \"@/api/api.js\";\r\n\r\nexport default {\r\n  name: \"roleList\",\r\n  data() {\r\n    return {\r\n      roleList: [], // 角色列表\r\n      currentPage: 1, //当前页\r\n      limit: 10, //每页条数\r\n      page: 1, //页数\r\n      total: null, //总条数\r\n      dialogFormVisible: false, // 控制新增角色弹出框\r\n      isEdit: false, // 是否是编辑\r\n      editId: \"\", // 当前编辑角色id\r\n      dialogRolePermission: false, // 分配权限界面\r\n      search: {\r\n        keyword: \"\",\r\n        timer: null, // 节流\r\n      },\r\n      /**\r\n       * 表单验证\r\n       */\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入角色名称\", trigger: \"blur\" }],\r\n        desc: [{ required: true, message: \"请输入角色描述\", trigger: \"blur\" }],\r\n      },\r\n      /**\r\n       * 新增角色form\r\n       */\r\n      form: {\r\n        name: \"\",\r\n        desc: \"\",\r\n      },\r\n      assign: {\r\n        value: [],\r\n        loading: false,\r\n        options: [],\r\n        id: null,\r\n        timer: null,\r\n      },\r\n      resKeys: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.getList();\r\n  },\r\n  watch: {\r\n    dialogFormVisible(newVal) {\r\n      if (!newVal) {\r\n        // 清空表单数据，恢复初始数据\r\n        Object.assign(this.$data.form, this.$options.data().form);\r\n      }\r\n    },\r\n    dialogRolePermission(newVal) {\r\n      if (!newVal) {\r\n        // 清空表单数据，恢复初始数据\r\n        this.assign.value = [];\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async getList() {\r\n      this.roleList = [];\r\n      let params = {\r\n        /**\r\n         * 空值显示所有\r\n         */\r\n        keyword: this.search.keyword,\r\n        limit: this.limit,\r\n        page: this.currentPage,\r\n      };\r\n      const res = await getRoleList(params);\r\n      console.log(res);\r\n      console.table(res.data.list);\r\n      if (res.code === 1) {\r\n        if (res.data.list.length > 0) {\r\n          this.roleList = res.data.list;\r\n          this.total = res.data.count;\r\n        }\r\n      }\r\n    },\r\n    //分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.limit = val;\r\n      this.getList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n      this.getList();\r\n    },\r\n    // 重置搜索栏\r\n    doReset() {\r\n      this.search.keyword = \"\";\r\n      this.currentPage = 1;\r\n      this.limit = 10;\r\n      this.getList();\r\n    },\r\n    // 搜索按钮\r\n    doSearch() {\r\n      if (this.search.keyword.length > 0) {\r\n        // 节流\r\n        if (!this.search.timer) {\r\n          this.search.timer = setTimeout(() => {\r\n            clearTimeout(this.search.timer);\r\n            this.search.timer = null;\r\n          }, 2000);\r\n          this.getList();\r\n        }\r\n      } else {\r\n        this.$message({\r\n          message: \"请输入搜索关键字\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 新增按钮事件，新增角色事件\r\n     */\r\n    async addRoleHandler() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    /**\r\n     * 新增角色表单 - 取消事件\r\n     */\r\n    addRoleFormCancel() {\r\n      // 关闭表单\r\n      this.dialogFormVisible = false;\r\n    },\r\n    /**\r\n     * 新增角色表单 - 确定事件\r\n     */\r\n    async addRoleFormOk() {\r\n      const { name, desc } = this.form;\r\n      if (name.length < 1 && desc.length < 1) {\r\n        this.$message({\r\n          message: \"内容不能为空\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n      // 是编辑进来的\r\n      if (this.isEdit) {\r\n        // 查看改的名字是否有重复\r\n        if (\r\n          this.roleList\r\n            .filter((item) => item.id !== this.editId)\r\n            .some((item) => item.name === name)\r\n        ) {\r\n          this.$message({\r\n            message: \"已有相同角色名称\",\r\n            type: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n        const res = await editRole({ ...this.form, id: this.editId });\r\n        if (res.code === 1) {\r\n          this.$message({\r\n            message: \"修改成功\",\r\n            type: \"success\",\r\n          });\r\n        }\r\n      } else {\r\n        // 验证是否有相同角色名\r\n        if (this.roleList.some((item) => item.name === name)) {\r\n          this.$message({\r\n            message: \"已有相同角色名称\",\r\n            type: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n        const res = await addRole(this.form);\r\n        if (res.code === 1) {\r\n          this.$message({\r\n            message: \"添加角色成功\",\r\n            type: \"success\",\r\n          });\r\n        }\r\n      }\r\n      // 关闭表单\r\n      this.dialogFormVisible = false;\r\n      // 更新页面\r\n      this.getList();\r\n    },\r\n    /**\r\n     * 编辑角色事件\r\n     */\r\n    editRoleHandler(role) {\r\n      console.log(role);\r\n      this.isEdit = true;\r\n      this.editId = role.id;\r\n      this.form.name = role.name;\r\n      this.form.desc = role.desc;\r\n      this.dialogFormVisible = true;\r\n    },\r\n    /**\r\n     * 删除角色事件\r\n     */\r\n    deleteRoleHandler(id) {\r\n      console.log(id);\r\n      this.$confirm(\"此操作将永久删除该角色, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n          const res = await deleteRole(id);\r\n          if (res.code === 1) {\r\n            console.log(res);\r\n            // 更新页面\r\n            this.getList();\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    /**\r\n     * 分配权限按钮\r\n     */\r\n    async assignPermissions(row) {\r\n      console.log(row);\r\n      this.dialogRolePermission = true;\r\n      this.assign.id = row.id;\r\n      const res = await getPermissionList({\r\n        limit: 100,\r\n        page: 1,\r\n        keyword: \"\",\r\n      });\r\n      if (res.code === 1) {\r\n        this.assign.options = res.data.list\r\n          ?.map?.((item, i, arr) => {\r\n            if (item.path.split(\"/\").length === 2) {\r\n              console.log(item.path);\r\n              return {\r\n                id: item.id,\r\n                label: item.name,\r\n                path: item.path,\r\n                children: arr\r\n                  .map((it) =>\r\n                    it.path.split(\"/\").length > 2 && it.path.includes(item.path)\r\n                      ? {\r\n                          id: it.id,\r\n                          label: it.name,\r\n                          path: it.path,\r\n                        }\r\n                      : false\r\n                  )\r\n                  .filter((it) => it)\r\n                  .reverse(),\r\n              };\r\n            }\r\n          })\r\n          .filter((it) => it)\r\n          .reverse();\r\n        console.log(\"---------------\");\r\n        console.table(this.assign.options);\r\n      }\r\n      console.log(res);\r\n      this.resKeys = res.data.list.map((item) => item.id);\r\n      console.log(row.permissions);\r\n      const keys = row.permissions\r\n        ?.map?.((item) =>\r\n          item.path.split(\"/\").length === 2 &&\r\n          row.permissions.some(it=>it.path.includes(item.path.concat(\"/\")))\r\n            ? false\r\n            : item.id\r\n        )\r\n        .filter((it) => it);\r\n      console.log(keys);\r\n      console.log()\r\n      this.$refs.tree.setCheckedKeys(keys || [], true);\r\n    },\r\n    /**\r\n     * 关闭分配权限对话框\r\n     */\r\n    assignPermissionsCancel() {\r\n      this.dialogRolePermission = false;\r\n    },\r\n    /**\r\n     * 分配权限对话框确认\r\n     */\r\n    async assignPermissionsConfirm() {\r\n      const select = this.$refs.tree\r\n        .getCheckedNodes(false, true)\r\n        .map((it) => it.id);\r\n      console.log(select);\r\n      const deleteRes = await deleteRolePermission({\r\n        role_id: this.assign.id,\r\n        permission_ids: this.resKeys,\r\n      });\r\n      console.log(deleteRes);\r\n      const addRes = await editRolePermission({\r\n        role_id: this.assign.id,\r\n        permission_ids: select,\r\n      });\r\n      console.log({\r\n        role_id: this.assign.id,\r\n        permission_ids: select,\r\n      });\r\n      console.log(addRes);\r\n      this.dialogRolePermission = false;\r\n      this.$message({\r\n        message: \"分配成功\",\r\n        type: \"success\",\r\n      });\r\n      this.getList();\r\n    },\r\n    /**\r\n     * 搜索框\r\n     */\r\n    async searchPermission(keyword) {\r\n      console.log(keyword);\r\n      clearTimeout(this.assign.timer);\r\n      // 输入停止触发 500ms\r\n      this.assign.timer = setTimeout(async () => {\r\n        clearTimeout(this.assign.timer);\r\n        if (keyword.trim().length > 0) {\r\n          this.assign.loading = true;\r\n          const res = await getPermissionList({ limit: 10, page: 1, keyword });\r\n          console.log(res);\r\n          if (res.code === 1) {\r\n            this.assign.options = res.data.list?.map((item) => ({\r\n              value: item.id,\r\n              label: item.name,\r\n            }));\r\n          }\r\n          this.assign.loading = false;\r\n        } else {\r\n          this.assign.options = [];\r\n        }\r\n      }, 500);\r\n      0.0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.dialog-role {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .select-role {\r\n    margin-left: 10%;\r\n    width: 80%;\r\n  }\r\n  .role-footer {\r\n    margin-top: 8%;\r\n    display: flex;\r\n    width: 80%;\r\n    justify-content: center;\r\n    margin-left: 10%;\r\n  }\r\n}\r\n.btn-box {\r\n  margin: 0px 30px;\r\n}\r\n.search {\r\n  padding: 30px 20px 10px 20px;\r\n}\r\n.order-main {\r\n  .searchForm {\r\n    ::v-deep .el-form-item {\r\n      label {\r\n        font-weight: normal;\r\n      }\r\n    }\r\n  }\r\n  .card {\r\n    margin: 10px 30px;\r\n  }\r\n  .search-main {\r\n    .search-input {\r\n      width: 200px;\r\n    }\r\n  }\r\n  .table_img {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  .searchBtn_wrapper {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n  }\r\n}\r\n</style>\r\n"]}]}