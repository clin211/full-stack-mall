{"remainingRequest":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tim/Desktop/电商程序/package 2/src/views/productManager/recommend/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tim/Desktop/电商程序/package 2/src/views/productManager/recommend/index.vue","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/babel-loader/lib/index.js","mtime":1713682103243},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js","mtime":1713682103513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlY29tbWVuZExpc3QsIHJlY29tbWVuZERlbGV0ZSwgcmVjb21tZW5kVXBkYXRhLCByZWNvbW1lbmRBZGQgfSBmcm9tICdAL2FwaS9hcGkuanMnCmltcG9ydCB7IGFkZCB9IGZyb20gJ3pyZW5kZXIvbGliL2NvcmUvdmVjdG9yJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWNvbW1lbmQiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIHBpY191cmw6ICcnLAogICAgICAgIGRldGFpbDogJycsCiAgICAgICAgZGVzYzogJycsCiAgICAgICAgaWQ6ICcnCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IHRydWUsIC8vIOWKoOi9vQogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIGN1cnJlbnRQYWdlNDogMSwvL+W9k+WJjemhtQogICAgICBsaW1pdDogMTAsLy/mr4/pobXmnaHmlbAKICAgICAgcGFnZTogMSwvL+mhteaVsAogICAgICB0b3RhbDogbnVsbCwvL+aAu+adoeaVsAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdGl0bGU6ICcnCgogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgcGFnZTogMQogICAgICB9CiAgICAgIHJlY29tbWVuZExpc3QocGFyYW1zKS50aGVuKCByZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICBpZihyZXMuY29kZSA9PT0gMSl7CiAgICAgICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gcmVzLmRhdGEubGlzdAogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZXMoaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5Yig6Zmk5ZCO5LiN5Y+v5oGi5aSNLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgICBpZDogaWQKICAgICAgICAgIH0KICAgICAgICAgIHJlY29tbWVuZERlbGV0ZShwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICBpZihyZXMuY29kZSA9PT0gMSkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkuY2F0Y2goKCkgPT4geyAgICAgICAgIAogICAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmZvcm0udGl0bGUgPSAnJywKICAgICAgdGhpcy5mb3JtLnBpY191cmwgPSAnJywKICAgICAgdGhpcy5mb3JtLmRldGFpbCA9ICcnLAogICAgICB0aGlzLmZvcm0uaWQgPSBudWxsCiAgICAgIHRoaXMuZm9ybS5kZXNjID0gJycKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBoYW5kbGVPaygpIHsKICAgICAgaWYodGhpcy50aXRsZSA9PT0gJ+aWsOWinicpewogICAgICAgIHRoaXMuYWRkKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0YSgpCiAgICAgIH0KICAgIH0sCgogICAgLy/liIbpobUKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwogICAgfSwKICAgIC8vIOmHjee9ruaQnOe0ouagjwogICAgZG9SZXNldCgpIHsKICAgIH0sCiAgICAvLyDmkJzntKLmjInpkq4KICAgIGRvU2VhcmNoKCkgewogICAgfSwKICAgIC8vIOaWsOWinuS8mOaDoOWIuAogICAgYWRkUHJvZHVjdCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnRpdGxlID0gJ+aWsOWinicKICAgIH0sCiAgICBlZGl0KGRhdGEpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnRpdGxlID0gJ+e8lui+kScKICAgICAgdGhpcy5mb3JtID0gZGF0YQogICAgfSwKICAgIGFkZCgpIHsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICB0aXRsZTogdGhpcy5mb3JtLnRpdGxlLAogICAgICAgIHBpY191cmw6IHRoaXMuZm9ybS5waWNfdXJsLAogICAgICAgIGRldGFpbDogdGhpcy5mb3JtLmRldGFpbCwKICAgICAgICBkZXNjOiB0aGlzLmZvcm0uZGVzYywKICAgICAgICBpZDogdGhpcy5mb3JtLmlkLAogICAgICB9CiAgICAgIHJlY29tbWVuZEFkZChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZihyZXMuY29kZSA9PT0gMSl7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOWinuaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgdXBkYXRhKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHRpdGxlOiB0aGlzLmZvcm0udGl0bGUsCiAgICAgICAgcGljX3VybDogdGhpcy5mb3JtLnBpY191cmwsCiAgICAgICAgZGV0YWlsOiB0aGlzLmZvcm0uZGV0YWlsLAogICAgICAgIGRlc2M6IHRoaXMuZm9ybS5kZXNjLAogICAgICAgIGlkOiB0aGlzLmZvcm0uaWQsCiAgICAgIH0KICAgICAgcmVjb21tZW5kVXBkYXRhKHBhcmFtcykudGhlbiggcmVzID0+IHsKICAgICAgICBpZihyZXMuY29kZSA9PT0gMSl7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+e8lui+keaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/productManager/recommend","sourcesContent":["<template>\n    <div class=\"product-main\">\n      <!-- 商品列表 -->\n      <el-card class=\"card\" shadow=\"never\">\n        <div slot=\"header\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"addProduct\"\n            >新增</el-button\n          >\n        </div>\n        <!-- 商品列表 -->\n  \n        <!-- 商品列表 -->\n  \n        <el-table\n          :data=\"productList\"\n          border\n          style=\"width: 100%\"\n        >\n          <el-table-column type=\"index\" label=\"序号\" width=\"100\" fixed=\"left\" />\n          <el-table-column label=\"文章标题\" prop=\"title\">\n          </el-table-column>\n          <el-table-column label=\"展示图片\" prop=\"title\" width=\"150\">\n            <template slot-scope=\"scope\">\n                <img style=\"width: 100px;\" :src=\"scope.row.pic_url\" alt=\"\">\n            </template>\n          </el-table-column>\n          <el-table-column label=\"添加时间\" width=\"200\" prop=\"created_at\">\n          </el-table-column>  \n          <el-table-column label=\"内容\" prop=\"detail\">\n          </el-table-column>   \n          <el-table-column label=\"摘要\" prop=\"desc\">\n          </el-table-column>      \n          <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                @click=\"edit(scope.row)\"\n                >编辑</el-button>\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                @click=\"deletes(scope.row.id)\"\n                ><span style=\"color: red\">删除</span></el-button>\n              </template>\n          </el-table-column>\n        </el-table>\n        <!-- 所有列表都要有分页 除非有特殊要求 否则数据多的情况下就没办法看了 -->\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage4\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"limit\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n      </el-card>\n      <el-dialog\n        :title=\"title\"\n        :visible.sync=\"dialogVisible\"\n        width=\"50%\">\n        <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\n          <el-form-item label=\"文章标题\" prop=\"title\">\n            <el-input v-model=\"form.title\" placeholder=\"请输入文章标题\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"展示图片\" prop=\"pic_url\">\n            <el-input v-model=\"form.pic_url\" placeholder=\"请输入图片链接\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"内容\" prop=\"price\">\n            <el-input v-model=\"form.detail\" placeholder=\"请输入内容\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"摘要\" prop=\"price\">\n            <el-input v-model=\"form.desc\" placeholder=\"请输入摘要\"></el-input>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"handleClose()\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"handleOk()\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </template>\n  \n  <script>\n  import { recommendList, recommendDelete, recommendUpdata, recommendAdd } from '@/api/api.js'\n  import { add } from 'zrender/lib/core/vector';\n  export default {\n    name: \"recommend\",\n    components: {},\n    data() {\n      return {\n        form: {\n          title: '',\n          pic_url: '',\n          detail: '',\n          desc: '',\n          id: ''\n        },\n        loading: true, // 加载\n        productList: [],\n        currentPage4: 1,//当前页\n        limit: 10,//每页条数\n        page: 1,//页数\n        total: null,//总条数\n        dialogVisible: false,\n        title: ''\n  \n      };\n    },\n    created() {\n      this.getList()\n    },\n    methods: {\n      getList() {\n        let params = {\n          limit: 10,\n          page: 1\n        }\n        recommendList(params).then( res => {\n          console.log(res)\n          if(res.code === 1){\n            this.productList = res.data.list\n            this.total = res.data.count\n          }\n        })\n      },\n      deletes(id) {\n        this.$confirm('删除后不可恢复, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            let params = {\n              id: id\n            }\n            recommendDelete(params).then(res => {\n              console.log(res)\n              if(res.code === 1) {\n                this.$message({\n                  message: '删除成功',\n                  type: 'success'\n                })\n                this.getList()\n              }\n            })\n          }).catch(() => {         \n          });\n      },\n      handleClose() {\n        this.form.title = '',\n        this.form.pic_url = '',\n        this.form.detail = '',\n        this.form.id = null\n        this.form.desc = ''\n        this.dialogVisible = false\n      },\n      handleOk() {\n        if(this.title === '新增'){\n          this.add()\n        } else {\n          this.updata()\n        }\n      },\n  \n      //分页\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n      },\n      handleCurrentChange(val) {\n        console.log(`当前页: ${val}`);\n      },\n      // 重置搜索栏\n      doReset() {\n      },\n      // 搜索按钮\n      doSearch() {\n      },\n      // 新增优惠券\n      addProduct() {\n        this.dialogVisible = true\n        this.title = '新增'\n      },\n      edit(data) {\n        this.dialogVisible = true\n        this.title = '编辑'\n        this.form = data\n      },\n      add() {\n        let params = {\n          title: this.form.title,\n          pic_url: this.form.pic_url,\n          detail: this.form.detail,\n          desc: this.form.desc,\n          id: this.form.id,\n        }\n        recommendAdd(params).then(res => {\n          if(res.code === 1){\n            this.$message({\n              message: '新增成功',\n              type: 'success'\n            })\n            this.handleClose()\n            this.getList()\n          }\n        })\n      },\n      updata() {\n        let params = {\n          title: this.form.title,\n          pic_url: this.form.pic_url,\n          detail: this.form.detail,\n          desc: this.form.desc,\n          id: this.form.id,\n        }\n        recommendUpdata(params).then( res => {\n          if(res.code === 1){\n            this.$message({\n              message: '编辑成功',\n              type: 'success'\n            })\n            this.handleClose()\n            this.getList()\n          }\n        })\n      },\n    },\n  };\n  </script>\n  \n  <style  scoped lang=\"scss\">\n  </style>\n  "]}]}