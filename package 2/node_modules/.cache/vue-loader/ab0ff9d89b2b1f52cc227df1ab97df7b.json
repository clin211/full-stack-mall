{"remainingRequest":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tim/Desktop/电商程序/package 2/src/views/homepageManager/bannerSwiper/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tim/Desktop/电商程序/package 2/src/views/homepageManager/bannerSwiper/index.vue","mtime":1714328445021},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsb29wTGlzdCwgbG9vcERlbGV0ZSwgbG9vcEFkZCwgbG9vcEVkaXQgfSBmcm9tICdAL2FwaS9hcGkuanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJiYW5uZXJTd2lwZXIiLA0KICBjb21wb25lbnRzOiB7fSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICBwaWNfdXJsOiAnJywNCiAgICAgICAgbGluazogJycsDQogICAgICAgIHNvcnQ6ICcxJywNCiAgICAgICAgaWQ6IG51bGwNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICBwaWNfdXJsOiBbDQogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6L2u5pKt5Zu+5Zyw5Z2AJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICBwcm9kdWN0TGlzdDogW10sICAgLy8g6L2u5pKt5Zu+5YiX6KGoDQogICAgICBjdXJyZW50UGFnZTQ6IDEsLy/lvZPliY3pobUNCiAgICAgIGxpbWl0OiAxMCwvL+avj+mhteadoeaVsA0KICAgICAgcGFnZTogMSwvL+mhteaVsA0KICAgICAgdG90YWw6IG51bGwsLy/mgLvmnaHmlbANCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgdGl0bGU6ICcnDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldExpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0TGlzdCgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIGxpbWl0OiAxMCwNCiAgICAgICAgcGFnZTogMQ0KICAgICAgfQ0KICAgICAgbG9vcExpc3QocGFyYW1zKS50aGVuKCByZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgIGlmKHJlcy5jb2RlID09PSAxKXsNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQNCiAgICAgICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gcmVzLmRhdGEubGlzdA0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlcyhyb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+WIoOmZpOWQjuS4jeWPr+aBouWkjSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgaWQ6IHJvdy5pZA0KICAgICAgICAgIH0NCiAgICAgICAgICBsb29wRGVsZXRlKHBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICAgICAgaWYocmVzLmNvZGUgPT09IDEpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFkZFByb2R1Y3QoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICB0aGlzLnRpdGxlID0gJ+aWsOWinicNCiAgICB9LA0KICAgIGhhbmRsZUNsb3NlKGZvcm0pIHsNCiAgICAgIHRoaXMuZm9ybS5waWNfdXJsID0gJycsDQogICAgICB0aGlzLmZvcm0ubGluayA9ICcnLA0KICAgICAgdGhpcy5mb3JtLnNvcnQgPSAnJywNCiAgICAgIHRoaXMuZm9ybS5pZCA9IG51bGwNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBoYW5kbGVPaygpIHsNCiAgICAgIGlmKHRoaXMudGl0bGUgPT09ICfmlrDlop4nKXsNCiAgICAgICAgdGhpcy5hZGQoKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5lZGl0KCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZCgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB0aGlzLmZvcm0NCiAgICAgIGxvb3BBZGQocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmKHJlcy5jb2RlID09PSAxKXsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7miJDlip8nLA0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCkNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgb3BlbkRpYWxvKGRhdGEpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgIHRoaXMudGl0bGUgPSAn57yW6L6RJw0KICAgICAgdGhpcy5mb3JtLnBpY191cmwgPSBkYXRhLnBpY191cmwNCiAgICAgIHRoaXMuZm9ybS5saW5rID0gZGF0YS5saW5rDQogICAgICB0aGlzLmZvcm0uaWQgPSBkYXRhLmlkDQogICAgICB0aGlzLmZvcm0uc29ydCA9IGRhdGEuc29ydA0KICAgIH0sDQogICAgZWRpdCgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIHBpY191cmw6IHRoaXMuZm9ybS5waWNfdXJsLA0KICAgICAgICBsaW5rOiB0aGlzLmZvcm0ubGluaywNCiAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZCwNCiAgICAgICAgc29ydDogdGhpcy5mb3JtLnNvcnQNCiAgICAgIH0NCiAgICAgIGxvb3BFZGl0KHBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICBpZihyZXMuY29kZSA9PT0gMSl7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAn57yW6L6R5oiQ5YqfJywNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCkNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvL+WIhumhtQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsNCiAgICB9LA0KICAgIC8vIOmHjee9ruaQnOe0ouagjw0KICAgIGRvUmVzZXQoKSB7DQogICAgICAvLyB0aGlzLnNlYXJjaCA9IHsNCiAgICAgIC8vICAgICBnbmFtZTogJycsDQogICAgICAvLyAgICAgcGNvZGU6ICcnLA0KICAgICAgLy8gICAgIGJyYW5kSWQ6ICcnLA0KICAgICAgLy8gICAgIHByaWNlOiAnJw0KICAgICAgLy8gfQ0KICAgICAgLy8gdGhpcy5zZWFyY2hGb3JtID0ge30NCiAgICB9LA0KICAgIC8vIOaQnOe0ouaMiemSrg0KICAgIGRvU2VhcmNoKCkgew0KICAgICAgLy8gdGhpcy5wYWdlLmN1cnJlbnRQYWdlID0gMQ0KICAgICAgLy8gdGhpcy5zZWFyY2hGb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZWFyY2gpDQogICAgICAvLyB0aGlzLmdldFByb2R1Y3RMaXN0KCkNCiAgICB9LA0KDQogIH0sDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/homepageManager/bannerSwiper","sourcesContent":["<template>\r\n  <div class=\"product-main\">\r\n    <!-- 轮播图列表 -->\r\n    <el-card class=\"card\" shadow=\"never\">\r\n      <div slot=\"header\">\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          @click=\"addProduct(0)\"\r\n          >新增</el-button\r\n        >\r\n      </div>\r\n      <!-- 商品列表 -->\r\n\r\n      <!-- 商品列表 -->\r\n\r\n      <el-table :data=\"productList\" border style=\"width: 100%\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"100\" fixed=\"left\" />\r\n        <el-table-column label=\"轮播图\" width=\"400\" prop=\"bannerImg\">\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              style=\"width: 2.6667rem; height: 2.6667rem\"\r\n              :src=\"scope.row.pic_url\"\r\n              class=\"avatar\"\r\n            />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"跳转商品ID\" width=\"400\" prop=\"link\">\r\n<!--          <template slot-scope=\"scope\">-->\r\n<!--            <a :href=\"scope.row.link\">###</a>-->\r\n<!--          </template>-->\r\n        </el-table-column>\r\n<!--        <el-table-column label=\"排序值\" width=\"300\" prop=\"sort\">-->\r\n<!--        </el-table-column>-->\r\n        <el-table-column label=\"添加时间\"  prop=\"created_at\">\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" @click=\"openDialo(scope.row)\">编辑</el-button>\r\n            <el-button type=\"text\" size=\"small\" @click=\"deletes(scope.row)\"><span style=\"color: red\">删除</span></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage4\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"limit\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      :title=\"title\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"50%\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"轮播图\" prop=\"pic_url\">\r\n          <el-input v-model=\"form.pic_url\" placeholder=\"请输入轮播图地址\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品ID\" prop=\"link\">\r\n          <el-input v-model=\"form.link\" placeholder=\"请输入跳转ID\"></el-input>\r\n        </el-form-item>\r\n<!--        <el-form-item label=\"排序值\" prop=\"sort\">-->\r\n<!--          <el-input v-model=\"form.sort\" placeholder=\"请输入排序值\"></el-input>-->\r\n<!--        </el-form-item>-->\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleOk()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { loopList, loopDelete, loopAdd, loopEdit } from '@/api/api.js'\r\nexport default {\r\n  name: \"bannerSwiper\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      form: {\r\n        pic_url: '',\r\n        link: '',\r\n        sort: '1',\r\n        id: null\r\n      },\r\n      rules: {\r\n        pic_url: [\r\n            { required: true, message: '请输入轮播图地址', trigger: 'blur' },\r\n        ]\r\n      },\r\n      productList: [],   // 轮播图列表\r\n      currentPage4: 1,//当前页\r\n      limit: 10,//每页条数\r\n      page: 1,//页数\r\n      total: null,//总条数\r\n      dialogVisible: false,\r\n      title: ''\r\n    };\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      let params = {\r\n        limit: 10,\r\n        page: 1\r\n      }\r\n      loopList(params).then( res => {\r\n        console.log(res)\r\n        if(res.code === 1){\r\n          this.total = res.data.count\r\n          this.productList = res.data.list\r\n        }\r\n      })\r\n    },\r\n    deletes(row) {\r\n      this.$confirm('删除后不可恢复, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let params = {\r\n            id: row.id\r\n          }\r\n          loopDelete(params).then(res => {\r\n            console.log(res)\r\n            if(res.code === 1) {\r\n              this.$message({\r\n                message: '删除成功',\r\n                type: 'success'\r\n              })\r\n              this.getList()\r\n            }\r\n          })\r\n        }).catch(() => {\r\n        });\r\n    },\r\n    addProduct() {\r\n      this.dialogVisible = true\r\n      this.title = '新增'\r\n    },\r\n    handleClose(form) {\r\n      this.form.pic_url = '',\r\n      this.form.link = '',\r\n      this.form.sort = '',\r\n      this.form.id = null\r\n      this.dialogVisible = false\r\n    },\r\n    handleOk() {\r\n      if(this.title === '新增'){\r\n        this.add()\r\n      } else {\r\n        this.edit()\r\n      }\r\n    },\r\n    add() {\r\n      let params = this.form\r\n      loopAdd(params).then(res => {\r\n        if(res.code === 1){\r\n          this.$message({\r\n            message: '新增成功',\r\n            type: 'success'\r\n          })\r\n          this.handleClose()\r\n          this.getList()\r\n        }\r\n      })\r\n    },\r\n    openDialo(data) {\r\n      this.dialogVisible = true\r\n      this.title = '编辑'\r\n      this.form.pic_url = data.pic_url\r\n      this.form.link = data.link\r\n      this.form.id = data.id\r\n      this.form.sort = data.sort\r\n    },\r\n    edit() {\r\n      let params = {\r\n        pic_url: this.form.pic_url,\r\n        link: this.form.link,\r\n        id: this.form.id,\r\n        sort: this.form.sort\r\n      }\r\n      loopEdit(params).then(res => {\r\n        if(res.code === 1){\r\n          this.$message({\r\n            message: '编辑成功',\r\n            type: 'success'\r\n          })\r\n          this.dialogVisible = false\r\n          this.handleClose()\r\n          this.getList()\r\n        }\r\n      })\r\n    },\r\n\r\n    //分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    // 重置搜索栏\r\n    doReset() {\r\n      // this.search = {\r\n      //     gname: '',\r\n      //     pcode: '',\r\n      //     brandId: '',\r\n      //     price: ''\r\n      // }\r\n      // this.searchForm = {}\r\n    },\r\n    // 搜索按钮\r\n    doSearch() {\r\n      // this.page.currentPage = 1\r\n      // this.searchForm = Object.assign({}, this.search)\r\n      // this.getProductList()\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped lang=\"scss\">\r\n</style>\r\n"]}]}