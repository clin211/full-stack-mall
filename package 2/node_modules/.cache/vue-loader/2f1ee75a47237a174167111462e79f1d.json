{"remainingRequest":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tim/Desktop/电商程序/package 2/src/views/productManager/productList/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tim/Desktop/电商程序/package 2/src/views/productManager/productList/index.vue","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/babel-loader/lib/index.js","mtime":1713682103243},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js","mtime":1713682103513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjb21MaXN0LCBjb21EZWxldGUgfSBmcm9tICdAL2FwaS9hcGkuanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQcm9kdWN0TGlzdCIsDQogIGNvbXBvbmVudHM6IHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkb3dubG9hZExvYWRpbmc6IGZhbHNlLA0KICAgICAgYWN0aXZlTmFtZXM6IFsiMSJdLA0KICAgICAga2V5d29yZDogJycsDQogICAgICBsb2FkaW5nOiB0cnVlLCAvLyDliqDovb0NCiAgICAgIHByb2R1Y3RMaXN0OiBbXSwNCiAgICAgIGN1cnJlbnRQYWdlNDogMSwvL+W9k+WJjemhtQ0KICAgICAgbGltaXQ6IDEwLC8v5q+P6aG15p2h5pWwDQogICAgICBwYWdlOiAxLC8v6aG15pWwDQogICAgICB0b3RhbDogbnVsbC8v5oC75p2h5pWwDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldExpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0TGlzdCgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LA0KICAgICAgICBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlNCwNCiAgICAgICAga2V5d29yZDogdGhpcy5rZXl3b3JkDQogICAgICB9DQogICAgICBjb21MaXN0KHBhcmFtcykudGhlbiggcmVzID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICBpZihyZXMuY29kZSA9PT0gMSl7DQogICAgICAgICAgdGhpcy5wcm9kdWN0TGlzdCA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZXMoaWQpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+WIoOmZpOWQjuS4jeWPr+aBouWkjSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgICAgaWQ6IGlkDQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbURlbGV0ZShwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgIGlmKHJlcy5jb2RlID09PSAxKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsgICAgICAgICANCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+WIhumhtQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpDQogICAgfSwNCg0KICAgIC8vIOmHjee9ruaQnOe0ouagjw0KICAgIGRvUmVzZXQoKSB7DQogICAgICB0aGlzLmtleXdvcmQgPSAnJw0KICAgICAgdGhpcy5jdXJyZW50UGFnZTQgPSAxDQogICAgICB0aGlzLmxpbWl0ID0gMTANCiAgICB9LA0KICAgIC8vIOaQnOe0ouaMiemSrg0KICAgIGRvU2VhcmNoKCkgew0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIC8vIOaWsOWinuWVhuWTgQ0KICAgIGFkZFByb2R1Y3QoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdhZGRQcm9kdWN0RGV0YWlsJyB9KQ0KICAgIH0sDQogICAgLy/nvJbovpENCiAgICBlZGl0KGRhdGEpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2FkZFByb2R1Y3REZXRhaWwnLCANCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBpZDogZGF0YS5pZCwNCiAgICAgICAgICB0eXBlOiAwDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBkZXRhaWxzKGRhdGEpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2FkZFByb2R1Y3REZXRhaWwnLCANCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBpZDogZGF0YS5pZCwNCiAgICAgICAgICB0eXBlOiAxDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+WvvOWHuuWVhuWTgeWIl+ihqA0KICAgIGhhbmRsZURvd25sb2FkKCkgew0KICAgICAgLy8gICAgICA8cD57eyBzY29wZS5yb3cubmFtZSB9fTwvcD4NCiAgICAgIC8vICAgICA8cD7lk4HniYw6IHt7IHNjb3BlLnJvdy5icmFuZE5hbWUgfX08L3A+DQogICAgICAvLyAgICAgPHA+e3sgc2NvcGUucm93LmRlc2NyaXB0aW9uIH19PC9wPg0KICAgICAgLy8gICA8L3RlbXBsYXRlPg0KICAgICAgLy8gPC9lbC10YWJsZS1jb2x1bW4+DQogICAgICAvLyA8ZWwtdGFibGUtY29sdW1uIGFsaWduPSJjZW50ZXIiIGxhYmVsPSLllYblk4Hku7fmoLwiIHdpZHRoPSIxNTAiPg0KICAgICAgLy8gICA8dGVtcGxhdGUgc2xvdC1zY29wZT0ic2NvcGUiPg0KICAgICAgLy8gICAgIDxwPuWOn+S7tzoge3sgc2NvcGUucm93Lm9yaWdpbmFsUHJpY2UgfCBtb25leSB9fTwvcD4NCiAgICAgIC8vICAgICA8cD7njrDku7c6IHt7IHNjb3BlLnJvdy5wcmljZSB8IG1vbmV5IH19PC9wPg0KICAgICAgLy8gdGhpcy5kb3dubG9hZExvYWRpbmcgPSB0cnVlDQogICAgICAvLyBpbXBvcnQoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpLnRoZW4oKGV4Y2VsKSA9PiB7DQogICAgICAvLyAgICAgY29uc3QgdEhlYWRlciA9IFsn5ZWG5ZOB5ZCN56ewJywgJ+WVhuWTgeWTgeeJjCcsICfllYblk4Hku7fmoLwnXQ0KICAgICAgLy8gICAgIGNvbnN0IGZpbHRlclZhbCA9IFsnbmFtZScsICdicmFuZE5hbWUnLCAncHJpY2UnXQ0KICAgICAgLy8gICAgIGNvbnN0IGxpc3QgPSB0aGlzLnByb2R1Y3RMaXN0DQogICAgICAvLyAgICAgY29uc3QgZGF0YSA9IHRoaXMuZm9ybWF0SnNvbihmaWx0ZXJWYWwsIGxpc3QpDQogICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coJ2xpc3Q9PT0nLEpTT04uc3RyaW5naWZ5KClsaXN0KQ0KICAgICAgLy8gICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsNCiAgICAgIC8vICAgICAgICAgaGVhZGVyOiB0SGVhZGVyLA0KICAgICAgLy8gICAgICAgICBkYXRhLA0KICAgICAgLy8gICAgICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZSwNCiAgICAgIC8vICAgICAgICAgYXV0b1dpZHRoOiB0aGlzLmF1dG9XaWR0aCwNCiAgICAgIC8vICAgICAgICAgYm9va1R5cGU6IHRoaXMuYm9va1R5cGUNCiAgICAgIC8vICAgICB9KQ0KICAgICAgLy8gICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gZmFsc2UNCiAgICAgIC8vIH0pDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/productManager/productList","sourcesContent":["<template>\r\n  <div class=\"product-main\">\r\n    <!-- <el-collapse class=\"collapse\" v-model=\"activeNames\"> -->\r\n      <!-- <el-collapse-item title=\"商品查询\" name=\"1\"> -->\r\n        <el-form\r\n          label-width=\"80px\"\r\n          :inline=\"false\"\r\n          class=\"search\"\r\n          size=\"normal\"\r\n        >\r\n          <el-row :gutter=\"10\">\r\n            <el-col class=\"searchItem\" :span=\"6\" :offset=\"0\">\r\n              <el-form-item label=\"商品名称\" size=\"mini\">\r\n                <el-input\r\n                  v-model=\"keyword\"\r\n                  class=\"search-input\"\r\n                  size=\"mini\"\r\n                  placeholder=\"商品名称/模糊查询\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <!-- <el-col class=\"searchItem\" :span=\"6\" :offset=\"0\">\r\n              <el-form-item label=\"上架状态\" size=\"mini\">\r\n                <el-select\r\n                  v-model=\"search.publishStatus\"\r\n                  class=\"search-input\"\r\n                  size=\"mini\"\r\n                  clearable\r\n                  placeholder=\"上架状态\"\r\n                >\r\n                  <el-option label=\"上架\" value=\"1\" />\r\n                  <el-option label=\"未上架\" value=\"0\" />\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col> -->\r\n            <el-col style=\"float: right\" :span=\"4\" :offset=\"0\">\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"doSearch\"\r\n                >搜索</el-button\r\n              >\r\n              <el-button type=\"default\" size=\"mini\" @click=\"doReset\"\r\n                >重置\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      <!-- </el-collapse-item> -->\r\n    <!-- </el-collapse> -->\r\n\r\n    <!-- 商品列表 -->\r\n    <el-card class=\"card\" shadow=\"never\">\r\n      <div slot=\"header\">\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          @click=\"addProduct\"\r\n          >新增</el-button\r\n        >\r\n\r\n        <!-- <el-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          :loading=\"downloadLoading\"\r\n          @click=\"handleDownload\"\r\n        >\r\n          导出商品列表excel文件\r\n        </el-button> -->\r\n      </div>\r\n      <!-- 商品列表 -->\r\n\r\n      <!-- 商品列表 -->\r\n\r\n      <el-table\r\n        :data=\"productList\"\r\n        border\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column type=\"index\" label=\"序号\" fixed=\"left\" />\r\n        <el-table-column label=\"商品图片\" width=\"180\" prop=\"pic_url\">\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              style=\"width: 100px; height: 100px\"\r\n              :src=\"scope.row.pic_url\"\r\n              class=\"avatar\"\r\n            />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\" width=\"240\" prop=\"name\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品价格\" width=\"170\" prop=\"price\">\r\n        </el-table-column>\r\n        <!-- <el-table-column label=\"商品优惠券\" width=\"180\" prop=\"stock\">\r\n        </el-table-column> -->\r\n        <el-table-column label=\"商品类别\" width=\"180\" prop=\"tags\">\r\n        </el-table-column>\r\n        <el-table-column label=\"品牌\" width=\"180\" prop=\"brand\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品库存\" width=\"150\" prop=\"stock\">\r\n        </el-table-column>\r\n        <el-table-column label=\"小标签\" width=\"200\" prop=\"tags\">\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"130\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"edit(scope.row)\"\r\n              >编辑</el-button>\r\n              <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"details(scope.row)\"\r\n              >详情</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"deletes(scope.row.id)\"\r\n              ><span style=\"color: red\">删除</span></el-button>\r\n            </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 所有列表都要有分页 除非有特殊要求 否则数据多的情况下就没办法看了 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage4\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"limit\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </el-card> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { comList, comDelete } from '@/api/api.js'\r\nexport default {\r\n  name: \"ProductList\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      downloadLoading: false,\r\n      activeNames: [\"1\"],\r\n      keyword: '',\r\n      loading: true, // 加载\r\n      productList: [],\r\n      currentPage4: 1,//当前页\r\n      limit: 10,//每页条数\r\n      page: 1,//页数\r\n      total: null//总条数\r\n    };\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      let params = {\r\n        limit: this.limit,\r\n        page: this.currentPage4,\r\n        keyword: this.keyword\r\n      }\r\n      comList(params).then( res => {\r\n        console.log(res)\r\n        if(res.code === 1){\r\n          this.productList = res.data.list\r\n          this.total = res.data.count\r\n        }\r\n      })\r\n    },\r\n    deletes(id) {\r\n      this.$confirm('删除后不可恢复, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let params = {\r\n            id: id\r\n          }\r\n          comDelete(params).then(res => {\r\n            console.log(res)\r\n            if(res.code === 1) {\r\n              this.$message({\r\n                message: '删除成功',\r\n                type: 'success'\r\n              })\r\n              this.getList()\r\n            }\r\n          })\r\n        }).catch(() => {         \r\n        });\r\n    },\r\n    //分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.getList()\r\n    },\r\n\r\n    // 重置搜索栏\r\n    doReset() {\r\n      this.keyword = ''\r\n      this.currentPage4 = 1\r\n      this.limit = 10\r\n    },\r\n    // 搜索按钮\r\n    doSearch() {\r\n      this.getList()\r\n    },\r\n    // 新增商品\r\n    addProduct() {\r\n      this.$router.push({ name: 'addProductDetail' })\r\n    },\r\n    //编辑\r\n    edit(data) {\r\n      this.$router.push({ name: 'addProductDetail', \r\n        query: {\r\n          id: data.id,\r\n          type: 0\r\n        }\r\n      })\r\n    },\r\n    details(data) {\r\n      this.$router.push({ name: 'addProductDetail', \r\n        query: {\r\n          id: data.id,\r\n          type: 1\r\n        }\r\n      })\r\n    },\r\n    //导出商品列表\r\n    handleDownload() {\r\n      //      <p>{{ scope.row.name }}</p>\r\n      //     <p>品牌: {{ scope.row.brandName }}</p>\r\n      //     <p>{{ scope.row.description }}</p>\r\n      //   </template>\r\n      // </el-table-column>\r\n      // <el-table-column align=\"center\" label=\"商品价格\" width=\"150\">\r\n      //   <template slot-scope=\"scope\">\r\n      //     <p>原价: {{ scope.row.originalPrice | money }}</p>\r\n      //     <p>现价: {{ scope.row.price | money }}</p>\r\n      // this.downloadLoading = true\r\n      // import('@/vendor/Export2Excel').then((excel) => {\r\n      //     const tHeader = ['商品名称', '商品品牌', '商品价格']\r\n      //     const filterVal = ['name', 'brandName', 'price']\r\n      //     const list = this.productList\r\n      //     const data = this.formatJson(filterVal, list)\r\n      //     // console.log('list===',JSON.stringify()list)\r\n      //     excel.export_json_to_excel({\r\n      //         header: tHeader,\r\n      //         data,\r\n      //         filename: this.filename,\r\n      //         autoWidth: this.autoWidth,\r\n      //         bookType: this.bookType\r\n      //     })\r\n      //     this.downloadLoading = false\r\n      // })\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n.el-collapse-item__header{\r\n    margin-left: 10px!important;\r\n    font-size: 18px;\r\n}\r\n.search {\r\n  padding: 30px 20px 10px 10px;\r\n}\r\n</style>\r\n"]}]}