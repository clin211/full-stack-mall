{"remainingRequest":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tim/Desktop/电商程序/package 2/src/views/productManager/evaluate/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tim/Desktop/电商程序/package 2/src/views/productManager/evaluate/index.vue","mtime":499162500000},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/babel-loader/lib/index.js","mtime":1713682103243},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/cache-loader/dist/cjs.js","mtime":1713682101844},{"path":"/Users/tim/Desktop/电商程序/package 2/node_modules/vue-loader/lib/index.js","mtime":1713682103513}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGV2YWx1YXRlTGlzdCwgZXZhbHVhdGVEZWxldGV9IGZyb20gJ0AvYXBpL2FwaS5qcycKaW1wb3J0IHsgYWRkIH0gZnJvbSAnenJlbmRlci9saWIvY29yZS92ZWN0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1Y3RMaXN0IiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHByb2R1Y3R1ZXM6ICcnLAogICAgICAgIHByaWNlOiAnJywKICAgICAgICBjYXRlZ29yeV9pZDogJycsCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IHRydWUsIC8vIOWKoOi9vQogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIGN1cnJlbnRQYWdlNDogMSwvL+W9k+WJjemhtQogICAgICBsaW1pdDogMTAsLy/mr4/pobXmnaHmlbAKICAgICAgcGFnZTogMSwvL+mhteaVsAogICAgICB0b3RhbDogbnVsbCwvL+aAu+adoeaVsAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdGl0bGU6ICcnCgogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgcGFnZTogMQogICAgICB9CiAgICAgIGV2YWx1YXRlTGlzdChwYXJhbXMpLnRoZW4oIHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIGlmKHJlcy5jb2RlID09PSAxKXsKICAgICAgICAgIHRoaXMucHJvZHVjdExpc3QgPSByZXMuZGF0YS5saXN0CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlcyhpZCkgewogICAgICB0aGlzLiRjb25maXJtKCfliKDpmaTlkI7kuI3lj6/mgaLlpI0sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgfQogICAgICAgICAgZXZhbHVhdGVEZWxldGUocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgaWYocmVzLmNvZGUgPT09IDEpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsgICAgICAgICAKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZSgpIHsKICAgICAgdGhpcy5mb3JtLm5hbWUgPSAnJywKICAgICAgdGhpcy5mb3JtLnByb2R1Y3R1ZXMgPSAnJywKICAgICAgdGhpcy5mb3JtLnByaWNlID0gJycsCiAgICAgIHRoaXMuZm9ybS5pZCA9IG51bGwKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBoYW5kbGVPaygpIHsKICAgICAgaWYodGhpcy50aXRsZSA9PT0gJ+aWsOWinicpewogICAgICAgIHRoaXMuYWRkKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0YSgpCiAgICAgIH0KICAgIH0sCgogICAgLy/liIbpobUKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwogICAgfSwKICAgIC8vIOmHjee9ruaQnOe0ouagjwogICAgZG9SZXNldCgpIHsKICAgICAgLy8gdGhpcy5zZWFyY2ggPSB7CiAgICAgIC8vICAgICBnbmFtZTogJycsCiAgICAgIC8vICAgICBwY29kZTogJycsCiAgICAgIC8vICAgICBicmFuZElkOiAnJywKICAgICAgLy8gICAgIHByaWNlOiAnJwogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuc2VhcmNoRm9ybSA9IHt9CiAgICB9LAogICAgLy8g5pCc57Si5oyJ6ZKuCiAgICBkb1NlYXJjaCgpIHsKICAgICAgLy8gdGhpcy5wYWdlLmN1cnJlbnRQYWdlID0gMQogICAgICAvLyB0aGlzLnNlYXJjaEZvcm0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlYXJjaCkKICAgICAgLy8gdGhpcy5nZXRQcm9kdWN0TGlzdCgpCiAgICB9LAogICAgLy8g5paw5aKe5LyY5oOg5Yi4CiAgICBhZGRQcm9kdWN0KCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMudGl0bGUgPSAn5paw5aKeJwogICAgfSwKICAgIGVkaXQoZGF0YSkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMudGl0bGUgPSAn57yW6L6RJwogICAgICB0aGlzLmZvcm0gPSBkYXRhCiAgICB9LAogICAgYWRkKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIG5hbWU6IHRoaXMuZm9ybS5uYW1lLAogICAgICAgIHByaWNlOiB0aGlzLmZvcm0ucHJpY2UsCiAgICAgICAgZ29vZHNfaWQ6ICcwJywKICAgICAgICBjYXRlZ29yeV9pZDogdGhpcy5mb3JtLmNhdGVnb3J5X2lkCiAgICAgIH0KICAgICAgY291cG9uQWRkKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmKHJlcy5jb2RlID09PSAxKXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe5oiQ5YqfJywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpCiAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGEoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgbmFtZTogdGhpcy5mb3JtLm5hbWUsCiAgICAgICAgcHJpY2U6IHRoaXMuZm9ybS5wcmljZSwKICAgICAgICBnb29kc19pZDogJzAnLAogICAgICAgIGNhdGVnb3J5X2lkOiB0aGlzLmZvcm0uY2F0ZWdvcnlfaWQsCiAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZAogICAgICB9CiAgICAgIGNvdXBvblVwZGF0ZShwYXJhbXMpLnRoZW4oIHJlcyA9PiB7CiAgICAgICAgaWYocmVzLmNvZGUgPT09IDEpewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfnvJbovpHmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCkKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/productManager/evaluate","sourcesContent":["<template>\n    <div class=\"product-main\">\n      <!-- 商品列表 -->\n      <el-card class=\"card\" shadow=\"never\">\n        <div slot=\"header\">\n        </div>\n        <!-- 商品列表 -->\n  \n        <!-- 商品列表 -->\n  \n        <el-table\n          :data=\"productList\"\n          border\n          style=\"width: 100%\"\n        >\n          <el-table-column type=\"index\" label=\"序号\" width=\"100\" fixed=\"left\" />\n          <el-table-column label=\"评价\" prop=\"content\">\n          </el-table-column>\n          <el-table-column label=\"评论时间\" width=\"200\" prop=\"created_at\">\n          </el-table-column>         \n          <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                @click=\"deletes(scope.row.id)\"\n                ><span style=\"color: red\">删除</span></el-button>\n              </template>\n          </el-table-column>\n        </el-table>\n        <!-- 所有列表都要有分页 除非有特殊要求 否则数据多的情况下就没办法看了 -->\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage4\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"limit\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n      </el-card>\n      <el-dialog\n        :title=\"title\"\n        :visible.sync=\"dialogVisible\"\n        width=\"50%\">\n        <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\n          <el-form-item label=\"名称\" prop=\"name\">\n            <el-input v-model=\"form.name\" placeholder=\"请输入名称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"可使用商品\" prop=\"productues\">\n            <el-input v-model=\"form.productues\" placeholder=\"请输入可使用商品\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"优惠券面额\" prop=\"price\">\n            <el-input v-model=\"form.price\" placeholder=\"请输入优惠券面额\"></el-input>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"handleClose()\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"handleOk()\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </template>\n  \n  <script>\n  import { evaluateList, evaluateDelete} from '@/api/api.js'\n  import { add } from 'zrender/lib/core/vector';\n  export default {\n    name: \"ProductList\",\n    components: {},\n    data() {\n      return {\n        form: {\n          name: '',\n          productues: '',\n          price: '',\n          category_id: '',\n        },\n        loading: true, // 加载\n        productList: [],\n        currentPage4: 1,//当前页\n        limit: 10,//每页条数\n        page: 1,//页数\n        total: null,//总条数\n        dialogVisible: false,\n        title: ''\n  \n      };\n    },\n    created() {\n      this.getList()\n    },\n    methods: {\n      getList() {\n        let params = {\n          limit: 10,\n          page: 1\n        }\n        evaluateList(params).then( res => {\n          console.log(res)\n          if(res.code === 1){\n            this.productList = res.data.list\n            this.total = res.data.count\n          }\n        })\n      },\n      deletes(id) {\n        this.$confirm('删除后不可恢复, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            let params = {\n              id: id\n            }\n            evaluateDelete(params).then(res => {\n              console.log(res)\n              if(res.code === 1) {\n                this.$message({\n                  message: '删除成功',\n                  type: 'success'\n                })\n                this.getList()\n              }\n            })\n          }).catch(() => {         \n          });\n      },\n      handleClose() {\n        this.form.name = '',\n        this.form.productues = '',\n        this.form.price = '',\n        this.form.id = null\n        this.dialogVisible = false\n      },\n      handleOk() {\n        if(this.title === '新增'){\n          this.add()\n        } else {\n          this.updata()\n        }\n      },\n  \n      //分页\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n      },\n      handleCurrentChange(val) {\n        console.log(`当前页: ${val}`);\n      },\n      // 重置搜索栏\n      doReset() {\n        // this.search = {\n        //     gname: '',\n        //     pcode: '',\n        //     brandId: '',\n        //     price: ''\n        // }\n        // this.searchForm = {}\n      },\n      // 搜索按钮\n      doSearch() {\n        // this.page.currentPage = 1\n        // this.searchForm = Object.assign({}, this.search)\n        // this.getProductList()\n      },\n      // 新增优惠券\n      addProduct() {\n        this.dialogVisible = true\n        this.title = '新增'\n      },\n      edit(data) {\n        this.dialogVisible = true\n        this.title = '编辑'\n        this.form = data\n      },\n      add() {\n        let params = {\n          name: this.form.name,\n          price: this.form.price,\n          goods_id: '0',\n          category_id: this.form.category_id\n        }\n        couponAdd(params).then(res => {\n          if(res.code === 1){\n            this.$message({\n              message: '新增成功',\n              type: 'success'\n            })\n            this.handleClose()\n            this.getList()\n          }\n        })\n      },\n      updata() {\n        let params = {\n          name: this.form.name,\n          price: this.form.price,\n          goods_id: '0',\n          category_id: this.form.category_id,\n          id: this.form.id\n        }\n        couponUpdate(params).then( res => {\n          if(res.code === 1){\n            this.$message({\n              message: '编辑成功',\n              type: 'success'\n            })\n            this.handleClose()\n            this.getList()\n          }\n        })\n      },\n    },\n  };\n  </script>\n  \n  <style  scoped lang=\"scss\">\n  </style>\n  "]}]}